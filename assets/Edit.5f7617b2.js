import{p as t,h as a,r as e,o,c as i,a as c,i as s,b as l}from"./vendor.d1e35357.js";const r=s();t("data-v-acfcfc1a");const d={id:"Edit"},n=l("save"),u=l("get");a();const m=r(((t,a,s,l,m,p)=>{const g=e("el-header"),h=e("el-button"),b=e("editboard"),v=e("el-col"),y=e("el-row");return o(),i("div",d,[c(g),c(y,{justify:"center"},{default:r((()=>[c(h,{onClick:a[1]||(a[1]=t=>p.save())},{default:r((()=>[n])),_:1}),c(h,{onClick:a[2]||(a[2]=t=>p.get())},{default:r((()=>[u])),_:1}),c(v,{xl:16,lg:20,md:24},{default:r((()=>[c(b,{musicData:m.musicData},null,8,["musicData"])])),_:1})])),_:1})])}));const p={data:()=>({url:"",musicData:{title:"a",mapper:"z",bpm:1,duration:200,origin_song:"f",youtube_id:"VyvhvlYvRnc",video_url:"a",img_src:"c",producer:"d",love_count:0,play_count:0,view_count:0,mapData:[{key:"a",color:"rgb(200,10,15)",timeStamp:[.3,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]},{key:"s",color:"rgb(0,10,15)",timeStamp:[.3,.8,.9,1.2,1.45]},{key:"d",color:"rgba(0,0,0,0.5)",timeStamp:[.3,.8,.9,1.2,1.45]},{key:"f",color:"rgba(255,255,255,1)",timeStamp:[.3,.8,.9,1.2,1.45]},{key:"4",color:"rgba(200,10,10,0.5)",timeStamp:[.3,.8,.9,1.2,1.45]},{key:"5",color:"rgba(200,200,10,0.5)",timeStamp:[.3,.8,.9,1.2,1.45]},{key:"6",color:"rgba(200,200,200,0.5)",timeStamp:[.3,.8,.9,1.2,1.45,.3,.8,.9,1.2,1.45]}]}}),methods:{save(){this.axios.post("http://localhost:4000/save",this.musicData).then((t=>{console.log(t.data)})).catch((t=>{console.log(t)}))},get(){this.axios.get("http://localhost:4000/get").then((t=>{console.log(t),console.log(t.data[0]),JSON.parse(t.data[0].map_data),console.log(JSON.parse(t.data[0].map_data))})).catch((t=>{console.log(t)}))},getInfo(){const t=window.gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics"],id:this.id}),a=this;t.execute((function(t){console.log(t),t.items.map((t=>{try{t.id.playlistId||(a.musicData.id=t.id,a.musicData.originSong=t.snippet.title,a.musicData.url="https://www.youtube.com/embed/"+t.id,a.musicData.producer=t.snippet.channelTitle,a.musicData.src="http://img.youtube.com/vi/"+t.id+"/0.jpg")}catch(e){console.log(e)}}))}))}},computed:{duration(){var t=/^PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?$/,a=0,e=0,o=0;if(t.exec("PT15M33S")){var i=t.exec("PT15M33S");return i[1]&&(a=Number(i[1])),i[2]&&(e=Number(i[2])),i[3]&&(o=Number(i[3])),3600*a+60*e+o}}},mounted(){gapi.client.load("youtube","v3"),gapi.client.setApiKey({}.VITE_YOUTUBE_API)}};p.render=m,p.__scopeId="data-v-acfcfc1a";export{p as default};
