import{r as e,o as t,c as a,a as i,w as o,b as s,d as r,e as d,f as c,g as l,p as n,h as m,i as u,t as h,j as p,k as y,F as g,l as k,m as _,n as f,V as b,q as w,s as S,u as v}from"./vendor.2946bbff.js";const D={id:"App"},T={id:"Nav"},C=s("Home"),V=s("Edit"),P=s("Play"),E=s("Form"),L=s("User");const B={};let x;B.render=function(s,r){const d=e("el-menu-item"),c=e("el-menu"),l=e("router-view");return t(),a("div",D,[i("div",T,[i(c,{class:"el-menu-demo",mode:"horizontal",router:!0},{default:o((()=>[i(d,{index:"/"},{default:o((()=>[C])),_:1}),i(d,{index:"edit"},{default:o((()=>[V])),_:1}),i(d,{index:"play"},{default:o((()=>[P])),_:1}),i(d,{index:"form"},{default:o((()=>[E])),_:1}),i(d,{index:"user"},{default:o((()=>[L])),_:1})])),_:1})]),i(l)])};const M={},$=function(e,t){if(!t||0===t.length)return e();if(void 0===x){const e=document.createElement("link").relList;x=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`./${e}`)in M)return;M[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":x,t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((e,t)=>{i.addEventListener("load",e),i.addEventListener("error",t)})):void 0}))).then((()=>e()))},j=[{path:"/",name:"Home",component:()=>$((()=>import("./Home.e4d8001a.js")),["assets/Home.e4d8001a.js","assets/vendor.2946bbff.js"])},{path:"/edit",name:"Edit",component:()=>$((()=>import("./Edit.3f2a8494.js")),["assets/Edit.3f2a8494.js","assets/Edit.c2b532f3.css","assets/vendor.2946bbff.js"])},{path:"/play",name:"Play",component:()=>$((()=>import("./Play.3b8799de.js")),["assets/Play.3b8799de.js","assets/Play.f388df0a.css","assets/vendor.2946bbff.js"])},{path:"/form",name:"Form",component:()=>$((()=>import("./Form.8ca47868.js")),["assets/Form.8ca47868.js","assets/Form.5e6c25e2.css","assets/vendor.2946bbff.js"])},{path:"/user",name:"User",component:()=>$((()=>import("./User.82add9b5.js")),["assets/User.82add9b5.js","assets/vendor.2946bbff.js"])}],I=r({history:d("#"),routes:j});var O=c({state:{user:{name:"GM",id:0},setting:{volum:.5,bpm:1,viewDegree:15,mapSetting:[[{key:"a",color:"#cd004b",audio:"cracker",timeStamp:[]}],[{key:"a",color:"#cd004b",audio:"cracker",timeStamp:[]},{key:"d",color:"#fcb711",audio:"cracker",timeStamp:[]}],[{key:"a",color:"#cd004b",audio:"cracker",timeStamp:[]},{key:"s",color:"#f37023",audio:"cracker",timeStamp:[]},{key:"d",color:"#fcb711",audio:"cracker",timeStamp:[]}],[{key:"a",color:"#cd004b",audio:"cracker",timeStamp:[]},{key:"s",color:"#f37023",audio:"cracker",timeStamp:[]},{key:"5",color:"#6561ac",audio:"cracker",timeStamp:[]},{key:"6",color:"#292526",audio:"cracker",timeStamp:[]}],[{key:"a",color:"#cd004b",audio:"cracker",timeStamp:[]},{key:"s",color:"#f37023",audio:"cracker",timeStamp:[]},{key:"4",color:"#0087d2",audio:"cracker",timeStamp:[]},{key:"5",color:"#6561ac",audio:"cracker",timeStamp:[]},{key:"6",color:"#292526",audio:"cracker",timeStamp:[]}],[{key:"a",color:"#cd004b",audio:"cracker",timeStamp:[]},{key:"s",color:"#f37023",audio:"cracker",timeStamp:[]},{key:"d",color:"#fcb711",audio:"cracker",timeStamp:[]},{key:"4",color:"#0087d2",audio:"cracker",timeStamp:[]},{key:"5",color:"#6561ac",audio:"cracker",timeStamp:[]},{key:"6",color:"#292526",audio:"cracker",timeStamp:[]}],[{key:"a",color:"#cd004b",audio:"cracker",timeStamp:[]},{key:"s",color:"#f37023",audio:"cracker",timeStamp:[]},{key:"d",color:"#fcb711",audio:"cracker",timeStamp:[]},{key:"f",color:"#0eb24e",audio:"cracker",timeStamp:[]},{key:"4",color:"#0087d2",audio:"cracker",timeStamp:[]},{key:"5",color:"#6561ac",audio:"cracker",timeStamp:[]},{key:"6",color:"#292526",audio:"cracker",timeStamp:[]}]]},mapData:null},getters:{getMapData:e=>e.mapData,getBpm:e=>e.setting.bpm,getViewDegree:e=>e.setting.viewDegree,getMapSetting:e=>e.setting.mapSetting,getVolum:e=>e.setting.volum,getUser:e=>e.user},mutations:{saveMapData(e,t){e.mapData=t},clearMapData(e){e.mapData=null},uploadMapData(e){e.mapData=null},setBpm(e,t){e.setting.bpm=t},setVolum(e,t){e.setting.volum=t},setViewDegree(e,t){e.setting.viewDegree=t}},actions:{},modules:{},plugins:[l()]});const R=p("data-v-409a1b66");n("data-v-409a1b66");const U={class:"image"},A={class:"tool"};m();const N=R(((o,r,d,c,l,n)=>{const m=e("el-button"),p=e("el-descriptions-item"),y=e("el-descriptions"),g=e("el-card");return t(),a(g,{class:"music_card",onClick:r[3]||(r[3]=e=>n.playMusic(d.music_data.id)),shadow:"hover","body-style":{padding:"0px"}},{default:R((()=>[i("div",U,[i("img",{src:d.music_data.img_src},null,8,["src"])]),i(y,{class:"info",title:d.music_data.title,column:1},u({default:R((()=>[i(p,{label:"作者"},{default:R((()=>[s(h(d.music_data.mapper),1)])),_:1}),i(p,{label:"原曲"},{default:R((()=>[s(h(d.music_data.origin_song),1)])),_:1}),i(p,{label:"原曲頻道"},{default:R((()=>[s(h(d.music_data.producer),1)])),_:1}),i(p,{label:"難度"},{default:R((()=>[s(h(d.music_data.difficulty),1)])),_:1}),i(p,{label:"鍵位"},{default:R((()=>[s(h(d.music_data.key_count),1)])),_:1}),i(p,{label:"速度"},{default:R((()=>[s(h(d.music_data.bpm),1)])),_:1}),i(p,{label:"長度"},{default:R((()=>[s(h(d.music_data.duration),1)])),_:1}),i(p,{label:"收藏數"},{default:R((()=>[s(h(d.music_data.love_count),1)])),_:1}),i(p,{label:"遊玩數"},{default:R((()=>[s(h(d.music_data.play_count),1)])),_:1}),i(p,{label:"瀏覽數"},{default:R((()=>[s(h(d.music_data.view_count),1)])),_:1})])),_:2},[d.music_data.mapper==n.getUser.name?{name:"extra",fn:R((()=>[i("div",A,[i(m,{type:"primary",icon:"el-icon-edit",circle:"",onClick:r[1]||(r[1]=e=>n.editMusic(d.music_data.id))}),i(m,{type:"danger",icon:"el-icon-delete",circle:"",onClick:r[2]||(r[2]=e=>n.deleteMusic(d.music_data.id))})])]))}:void 0]),1032,["title"])])),_:1})}));const q={props:{music_data:Object},data:()=>({}),computed:{getUser(){return this.$store.getters.getUser}},methods:{playMusic(e){this.$router.push({name:"Play",query:{id:e}})},deleteMusic(e){event.stopPropagation(),console.log("aa")},editMusic(e){event.stopPropagation(),this.$router.push({name:"Edit",query:{id:e}})}}};q.render=N,q.__scopeId="data-v-409a1b66";const z=p("data-v-4688b34c");n("data-v-4688b34c");const F={id:"playboard"},H={class:"toolBar"},K=s("Play"),Q=s("Pause"),X=s("Restart"),Y=i("br",null,null,-1),G=i("div",{class:"player"},[i("div",{id:"player"})],-1),J={class:"full-screen"};m();const W=z(((o,r,d,c,l,n)=>{const m=e("el-button"),u=e("el-slider"),p=e("game_slider");return t(),a("div",F,[i("div",H,[i(m,{onClick:r[1]||(r[1]=e=>n.gameStart()),icon:"el-icon-video-play",round:"",type:"primary",disabled:1==l.playerState},{default:z((()=>[K])),_:1},8,["disabled"]),i(m,{onClick:r[2]||(r[2]=e=>n.gamePause()),icon:"el-icon-video-pause",round:"",type:"success",disabled:1!=l.playerState},{default:z((()=>[Q])),_:1},8,["disabled"]),i(m,{onClick:r[3]||(r[3]=e=>n.gameRestart()),icon:"el-icon-refresh-left",round:"",type:"warning"},{default:z((()=>[X])),_:1}),i(m,{round:"",type:"info"},{default:z((()=>[i(u,{modelValue:l.viewDegree,"onUpdate:modelValue":r[4]||(r[4]=e=>l.viewDegree=e),height:"10px",vertical:"",max:80,onChange:r[5]||(r[5]=e=>n.setViewDegree())},null,8,["modelValue"])])),_:1}),d.showProgressBar?(t(),a(u,{key:0,modelValue:l.currentTime,"onUpdate:modelValue":r[6]||(r[6]=e=>l.currentTime=e),max:d.music_data.duration,"show-input":"",onInput:r[7]||(r[7]=e=>n.seekTo()),onChange:r[8]||(r[8]=e=>n.seekToConfirm())},null,8,["modelValue","max"])):y("",!0),Y,i("span",null,"分數:"+h(l.score)+" 分 ",1),i("span",null,"| Combo:"+h(l.combo)+" 次",1)]),i("div",{class:"row",style:n.playBoardStyle()},[G,(t(!0),a(g,null,k(d.music_data.map_data,((e,o)=>(t(),a("div",J,[i("div",{class:"screen",id:"S"+e.key},[(t(!0),a(g,null,k(e.timeStamp,((i,o)=>(t(),a(p,{onClick:r[9]||(r[9]=e=>n.destroy()),class:e.key,color:e.color,bornTime:i,currentTime:l.currentTime,bpm:n.getBpm,restart:l.restart},null,8,["class","color","bornTime","currentTime","bpm","restart"])))),256))],8,["id"]),i(m,{class:"button",style:n.getButtonStyle(e.color),size:"medium",onClick:t=>n.hit(e.key,e.color,e.audio),id:"B"+e.key},{default:z((()=>[s(h(e.key),1)])),_:2},1032,["style","onClick","id"])])))),256))],4)])}));const Z={props:{music_data:Object,showProgressBar:{type:Boolean,default:!1}},data:()=>({viewDegree:0,currentTime:null,choiceTime:null,player:null,score:0,combo:0,maxCombo:0,lifeTimer:null,playerState:0,restart:!1,watchData:[]}),computed:{getMapData(){return this.$store.getters.getMapData},getBpm(){return this.music_data.bpm},getViewDegree(){return this.$store.getters.getViewDegree},getVolum(){return this.$store.getters.getVolum},judgeLine(){return 1===this.getBpm?[80.25,79.75,82,75,85,70]:1.5===this.getBpm?[80.5,78.5,83,74,85,68]:2===this.getBpm?[81,78,84,73,89,66]:.5===this.getBpm?[79.8,79.2,82,76,84,72]:.25===this.getBpm?[79.6,79.4,81,78,83,75]:void 0}},methods:{gameStart(){this.restart=!1,this.player.playVideo(),this.lifeTimer=setInterval((()=>{1===this.playerState&&(this.currentTime+=.015)}),15)},gamePause(){this.player.pauseVideo(),clearInterval(this.lifeTimer)},gameRestart(){this.restart=!0,this.currentTime=0,this.player.seekTo(this.currentTime),this.gamePause(),this.score=0,this.combo=0,this.maxCombo=0},playBoardStyle(){return{transform:`\n        rotateX(${this.viewDegree}deg)\n        scale(${1-this.viewDegree/170})`}},getButtonStyle:e=>({background:e}),hit(e,t,a){if(1===this.playerState){const i=document.getElementsByClassName(e);if("mute"!==a){let e=new Audio;e.volume=this.getVolum,e.src="./audio/"+a+".mp3",e.play()}if(i.length>0){let a=parseInt(i[0].style.top);a>50&&(this.appendEffect(e,a,t),i[0].click())}}},keydown(e,t){t?(this.watchData[e].button.click(),this.watchData[e].button.classList.add("show")):this.watchData[e].button.classList.remove("show")},judge(e){var t="";return this.judgeLine[0]>=e&&e>=this.judgeLine[1]?(this.score+=100,this.combo++,t="perfect"):this.judgeLine[2]>=e&&e>=this.judgeLine[0]||this.judgeLine[1]>=e&&e>=this.judgeLine[3]?(this.score+=30,this.combo++,t="excellent"):this.judgeLine[4]>=e&&e>=this.judgeLine[2]||this.judgeLine[3]>=e&&e>=this.judgeLine[5]?(this.score+=10,this.combo++,t="good"):(this.combo=0,t="miss"),this.combo>10&&this.combo<=30?this.score+=5:this.combo>30&&this.combo<=50?this.score+=10:this.combo>50&&this.combo<=100?this.score+=25:this.combo>100&&this.combo<=200?this.score+=35:this.combo>200&&(this.score+=50),this.combo>this.maxCombo&&(this.maxCombo=this.combo),t},init(){this.viewDegree=this.getViewDegree,this.music_data.map_data.map((e=>{const t=document.getElementById("B"+e.key);this.watchData.push({button:t,keyState:!1})}));const e=this;window.onkeydown=function(t){e.music_data.map_data.map((a=>{if(a.key.toLowerCase()===t.key.toLowerCase()){let t=e.music_data.map_data.indexOf(a);e.watchData[t].keyState=!0}}))},window.onkeyup=function(t){e.music_data.map_data.map((a=>{if(a.key.toLowerCase()===t.key.toLowerCase()){let t=e.music_data.map_data.indexOf(a);e.watchData[t].keyState=!1}}))}},appendEffect(e,t,a){const i=document.getElementById("S"+e),o=document.createElement("div");let s=this.judge(t);o.appendChild(document.createTextNode(`${s}`)),i.appendChild(o),"perfect"===s?o.classList.add("perfectEffect"):"excellent"===s?o.classList.add("excellentEffect"):"good"===s?o.classList.add("goodEffect"):o.classList.add("effect"),o.style.top=t+"%",o.style.background=a},destroy(){this.$emit("destroy")},seekTo(){1!==this.playerState&&(this.gamePause(),this.restart=!0,this.player.seekTo(this.currentTime))},seekToConfirm(){this.gamePause(),this.restart=!0,this.player.seekTo(this.currentTime)},onPlayerReady(e){this.player.setPlaybackQuality("medium")},onPlayerStateChange(e){this.playerState=e.data},setViewDegree(){this.$store.commit("setViewDegree",this.viewDegree)},over(){this.$alert(`恭喜完成${this.music_data.title}\n        你獲得${this.score}分!\n        最高COMBO${this.maxCombo}次\n        `,"過關",{confirmButtonText:"確定"})}},mounted(){this.player=new YT.Player("player",{videoId:this.music_data.youtube_id,width:"100%",height:"100%",playerVars:{loop:1,rel:0},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}}),this.init()},watch:{"watchData.0.keyState":{handler:function(e){this.keydown(0,e)},deep:!0},"watchData.1.keyState":{handler:function(e){this.keydown(1,e)},deep:!0},"watchData.2.keyState":{handler:function(e){this.keydown(2,e)},deep:!0},"watchData.3.keyState":{handler:function(e){this.keydown(3,e)},deep:!0},"watchData.4.keyState":{handler:function(e){this.keydown(4,e)},deep:!0},"watchData.5.keyState":{handler:function(e){this.keydown(5,e)},deep:!0},"watchData.6.keyState":{handler:function(e){this.keydown(6,e)},deep:!0}}};Z.render=W,Z.__scopeId="data-v-4688b34c";const ee=p("data-v-62749369");n("data-v-62749369");const te={id:"editboard"},ae={class:"toolBar"},ie=s("Play"),oe=s("Pause"),se=s("Save"),re=s("Clear"),de=s("Upload"),ce=s("DEMO"),le={class:"row"},ne=i("div",{class:"player"},[i("div",{id:"player"})],-1),me={class:"full-screen"};m();const ue=ee(((o,r,d,c,l,n)=>{const m=e("el-button"),u=e("playboard"),p=e("el-drawer"),_=e("el-slider");return t(),a("div",te,[i("div",ae,[i(m,{onClick:r[1]||(r[1]=e=>n.gameStart()),icon:"el-icon-video-play",round:"",type:"primary",disabled:1==l.playerState},{default:ee((()=>[ie])),_:1},8,["disabled"]),i(m,{onClick:r[2]||(r[2]=e=>n.gamePause()),icon:"el-icon-video-pause",round:"",disabled:1!=l.playerState},{default:ee((()=>[oe])),_:1},8,["disabled"]),i(m,{onClick:r[3]||(r[3]=e=>n.saveMapData()),plain:"",icon:"el-icon-finished",round:"",type:"warning"},{default:ee((()=>[se])),_:1}),i(m,{onClick:r[4]||(r[4]=e=>n.clearMapData()),plain:"",icon:"el-icon-delete",round:"",type:"danger"},{default:ee((()=>[re])),_:1}),i(m,{onClick:r[5]||(r[5]=e=>n.uploadMapData()),plain:"",icon:"el-icon-upload",round:"",type:"success"},{default:ee((()=>[de])),_:1}),i(m,{onClick:r[7]||(r[7]=e=>n.openDrawer()),plain:"",icon:"el-icon-view",round:"",type:"info"},{default:ee((()=>[ce,i(p,{title:"DEMO",modelValue:l.drawer,"onUpdate:modelValue":r[6]||(r[6]=e=>l.drawer=e),size:"80%"},{default:ee((()=>[l.drawer?(t(),a(u,{key:0,music_data:d.music_data,showProgressBar:!0},null,8,["music_data"])):y("",!0)])),_:1},8,["modelValue"])])),_:1}),i(m,{round:"",type:"info"},{default:ee((()=>[i(_,{modelValue:l.viewDegree,"onUpdate:modelValue":r[8]||(r[8]=e=>l.viewDegree=e),height:"10px",vertical:"",max:80,onChange:r[9]||(r[9]=e=>n.setViewDegree())},null,8,["modelValue"])])),_:1}),i(_,{modelValue:l.currentTime,"onUpdate:modelValue":r[10]||(r[10]=e=>l.currentTime=e),height:"300",max:d.music_data.duration,"show-input":"",onInput:r[11]||(r[11]=e=>n.seekTo()),onChange:r[12]||(r[12]=e=>n.seekToConfirm())},null,8,["modelValue","max"])]),i("div",le,[i("div",{class:"col",style:n.editBoardStyle()},[ne,(t(!0),a(g,null,k(d.music_data.map_data,((e,o)=>(t(),a("div",me,[i("div",{class:"screen",id:"S"+e.key},null,8,["id"]),i(m,{class:"button",style:n.getButtonStyle(e.color),size:"medium",onClick:t=>n.hit(e.key,e.color,e.audio,o),id:"B"+e.key},{default:ee((()=>[s(h(e.key),1)])),_:2},1032,["style","onClick","id"])])))),256))],4)])])}));const he={props:{music_data:Object},data:()=>({drawer:!1,loading:!0,viewDegree:0,currentTime:null,choiceTime:null,player:null,score:0,combo:0,lifeTimer:null,playerState:0,watchData:[]}),computed:{getViewDegree(){return this.$store.getters.getViewDegree},getVolum(){return this.$store.getters.getVolum}},methods:{gameStart(){this.player.playVideo(),this.lifeTimer=setInterval((()=>{1===this.playerState&&(this.currentTime+=.015)}),15)},gamePause(){this.player.pauseVideo(),clearInterval(this.lifeTimer)},editBoardStyle(){return{transform:`\n        rotateX(${this.viewDegree}deg)\n        scale(${1-this.viewDegree/170})`}},getButtonStyle:e=>({background:e}),openDrawer(){this.drawer=!0,this.gamePause()},hit(e,t,a,i){if(1===this.playerState){if("mute"!==a){let e=new Audio;e.volume=this.getVolum,e.src="./audio/"+a+".mp3",e.play()}this.watchData[i].button.classList.add("show"),this.appendEffect(e,t),this.judge(),this.editMap(i,this.player.getCurrentTime())}},keydown(e,t){t?this.watchData[e].button.click():this.watchData[e].button.classList.remove("show")},editMap(e,t){this.music_data.map_data[e].timeStamp.push(t)},init(){this.viewDegree=this.getViewDegree,this.music_data.map_data.map((e=>{const t=document.getElementById("B"+e.key);this.watchData.push({button:t,keyState:!1})}));const e=this;document.onkeydown=function(t){e.music_data.map_data.map((a=>{if(a.key.toLowerCase()===t.key.toLowerCase()){let t=e.music_data.map_data.indexOf(a);e.watchData[t].keyState=!0}}))},document.onkeyup=function(t){e.music_data.map_data.map((a=>{if(a.key.toLowerCase()===t.key.toLowerCase()){let t=e.music_data.map_data.indexOf(a);e.watchData[t].keyState=!1}}))}},saveMapData(){this.music_data.map_data.forEach((e=>{e.timeStamp.sort()})),this.$store.commit("saveMapData",this.music_data.map_data),this.$notify({title:"Map Data",message:_("i",{style:"color: teal"},"已儲存資料")})},clearMapData(){this.$store.commit("clearMapData"),this.music_data.map_data.forEach((e=>{e.timeStamp=[]})),this.$notify({title:"Map Data",message:_("i",{style:"color: teal"},"已清空資料")})},uploadMapData(){this.$store.commit("uploadMapData"),this.axios.patch({}.VITE_BACK_URL+"/music_data",{data:{map_data:this.music_data.map_data},query:{id:this.music_data.id}}).then((e=>{console.log(e),this.$notify({title:"Map Data",message:_("i",{style:"color: teal"},"已上傳資料")})})).catch((e=>{this.$notify({title:"Map Data",message:_("i",{style:"color: teal"},`${e}`)}),console.log(e)}))},setViewDegree(){this.$store.commit("setViewDegree",this.viewDegree)},judge(){this.score+=100,this.combo++,this.combo>10&&this.combo<=30?this.score+=5:this.combo>30&&this.combo<=50?this.score+=10:this.combo>50&&this.combo<=100?this.score+=25:this.combo>100&&this.combo<=200?this.score+=35:this.combo>200&&(this.score+=50)},appendEffect(e,t){const a=document.getElementById("S"+e),i=document.createElement("div");i.appendChild(document.createTextNode("perfect")),i.classList.add("perfectEffect"),i.style.top="80%",i.style.background=t,a.appendChild(i)},seekTo(){1!==this.playerState&&(this.player.seekTo(this.currentTime),this.gamePause())},seekToConfirm(){this.player.seekTo(this.currentTime),this.gamePause()},onPlayerReady(){this.player.setPlaybackQuality("medium")},onPlayerStateChange(e){this.playerState=e.data}},mounted(){this.player=new YT.Player("player",{videoId:this.music_data.youtube_id,width:"100%",height:"100%",playerVars:{loop:1,rel:0},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}}),this.axios.get({}.VITE_BACK_URL+"/music_data",{params:{id:this.$route.query.id}}).then((e=>{console.log(e),this.music_data=e.data[0],this.music_data.map_data=JSON.parse(e.data[0].map_data),this.start=!0})).catch((e=>{console.log(e)})),this.init()},watch:{"watchData.0.keyState":{handler:function(e){this.keydown(0,e)},deep:!0},"watchData.1.keyState":{handler:function(e){this.keydown(1,e)},deep:!0},"watchData.2.keyState":{handler:function(e){this.keydown(2,e)},deep:!0},"watchData.3.keyState":{handler:function(e){this.keydown(3,e)},deep:!0},"watchData.4.keyState":{handler:function(e){this.keydown(4,e)},deep:!0},"watchData.5.keyState":{handler:function(e){this.keydown(5,e)},deep:!0},"watchData.6.keyState":{handler:function(e){this.keydown(6,e)},deep:!0}}};he.render=ue,he.__scopeId="data-v-62749369";const pe=p("data-v-03d9451e")(((e,i,o,s,r,d)=>d.exist?(t(),a("div",{key:0,class:"game_slider",style:d.gameSliderStyle,onClick:i[1]||(i[1]=e=>d.destroy())},null,4)):y("",!0)));const ye={data:()=>({break:!1}),props:{bpm:Number,color:String,bornTime:Number,currentTime:Number,restart:{type:Boolean,default:!1}},computed:{gameSliderStyle(){return{top:this.top+"%",background:this.color}},top(){return this.sneak-this.bornTime>0?75*(this.sneak-this.bornTime)*this.bpm:0},sneak(){return 1===this.bpm?this.currentTime+1.15:1.5===this.bpm?this.currentTime+.83:2===this.bpm?this.currentTime+.56:.5===this.bpm?this.currentTime+2.1:.25===this.bpm?this.currentTime+4.35:void 0},exist(){return this.top>0&&this.top<100&&!1===this.break}},methods:{destroy(){this.break=!0}},watch:{restart(){this.break=!1}}};ye.render=pe,ye.__scopeId="data-v-03d9451e";const ge=f(B);ge.use(I),ge.use(O),ge.use(b),ge.use(w),ge.use(S,v),ge.component("music_card",q),ge.component("playboard",Z),ge.component("editboard",he),ge.component("game_slider",ye),ge.mount("#app");
